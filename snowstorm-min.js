/** @license

 DHTML Snowstorm! JavaScript-based Snow for web pages
 --------------------------------------------------------
 Version 1.41.20101113 (Previous rev: 1.4.20091115)
 Copyright (c) 2007, Scott Schiller. All rights reserved.
 Code provided under the BSD License:
 http://schillmania.com/projects/snowstorm/license.txt
*/
var snowStorm=function(f,d){function k(c,h){if(isNaN(h))h=0;return Math.random()*c+h}function v(c){return parseInt(k(2),10)===1?c*-1:c}function N(){var c,h=d.createElement("style"),i=d.implementation||{hasFeature:function(){return false}};h.type="text/css";r.insertBefore(h,r.firstChild);c=h.sheet||h.styleSheet;return(i.hasFeature("CSS2","")?function(e){if(!(c&&e))return false;var b=false;try{c.insertRule(e,0);b=!/unknown/i.test(c.cssRules[0].cssText);c.deleteRule(c.cssRules.length-1)}catch(g){}return b}:
function(e){if(!(c&&e))return false;c.cssText=e;return c.cssText.length!==0&&!/unknown/i.test(c.cssText)&&c.cssText.replace(/\r+|\n+/g,"").indexOf(e.split(" ")[0])===0})('@font-face { font-family: "font"; src: "font.ttf"; }')}function D(){if(this.excludeMobile&&!E||!this.excludeMobile)f.setTimeout(function(){a.start(true)},20);a.events.remove(f,"load",D)}this.flakesMax=128;this.flakesMaxActive=64;this.animationInterval=33;this.excludeMobile=true;this.flakeBottom=null;this.followMouse=true;this.snowColor=
"#fff";this.snowCharacter="&bull;";this.snowStick=true;this.targetElement=null;this.useMeltEffect=true;this.usePositionFixed=this.useTwinkleEffect=false;this.freezeOnBlur=true;this.flakeRightOffset=this.flakeLeftOffset=0;this.flakeHeight=this.flakeWidth=15;this.vMaxX=3;this.vMaxY=2;this.zIndex=0;this.use3DRotate=this.use2DRotate=this.useWebFont=true;this.webFontCharacters=["%","'","(","1","7","p","v","w","y","z"];this.webFontCharactersSubset=["%","'"];if(!navigator.userAgent.match(/safari/i)){this.webFontCharacters.push("&");
this.webFontCharactersSubset.push("&")}var a=this,w=this,r,z,s,F,A,G,m=navigator.userAgent.match(/msie/i),t=navigator.userAgent.match(/msie 6/i),O=navigator.appVersion.match(/windows 98/i),E=navigator.userAgent.match(/mobile/i),P=m&&d.compatMode==="BackCompat",H=E||P||t,l=null,q=null,n=null,u=null,I=null,J=null,x=1,y=false;t=d.createElement("div");var B=null,C;a:{try{t.style.opacity="0.5"}catch(Q){C=false;break a}C=true}var K=false,o={moz:typeof t.style.MozTransform!=="undefined"?"MozTransform":null,
webkit:typeof t.style.webkitTransform!=="undefined"?"webkitTransform":null,prop:null},L=d.createDocumentFragment();o.prop=o.moz||o.webkit;this.timers=[];this.flakes=[];this.active=this.disabled=false;this.meltFrameCount=20;this.meltFrames=[];this.types=16;this.events=function(){function c(g){g=e.call(g);var j=g.length;if(i){g[1]="on"+g[1];j>3&&g.pop()}else j===3&&g.push(false);return g}function h(g,j){var p=g.shift(),M=[b[j]];i?p[M](g[0],g[1]):p[M].apply(p,g)}var i=!f.addEventListener&&f.attachEvent,
e=Array.prototype.slice,b={add:i?"attachEvent":"addEventListener",remove:i?"detachEvent":"removeEventListener"};return{add:function(){h(c(arguments),"add")},remove:function(){h(c(arguments),"remove")}}}();this.getSnowCharacter=function(){var c=a.useWebFont?a.use2DRotate?o.webkit?a.webFontCharacters:a.webFontCharactersSubset:a.webFontCharactersSubset:null;return!c?a.snowCharacter:c[parseInt(Math.random()*c.length,10)]};this.randomizeWind=function(){I=v(k(a.vMaxX,0.2));J=k(a.vMaxY,0.2);if(this.flakes)for(var c=
0;c<this.flakes.length;c++)this.flakes[c].active&&this.flakes[c].setVelocities()};this.scrollHandler=function(){u=a.flakeBottom?0:parseInt(f.scrollY||d.documentElement.scrollTop||d.body.scrollTop,10);if(isNaN(u))u=0;if(!y&&!a.flakeBottom&&a.flakes)for(var c=a.flakes.length;c--;)a.flakes[c].active===0&&a.flakes[c].stick()};this.resizeHandler=function(){if(f.innerWidth||f.innerHeight){l=f.innerWidth-(!m?16:2)-a.flakeRightOffset;n=a.flakeBottom?a.flakeBottom:f.innerHeight}else{l=(d.documentElement.clientWidth||
d.body.clientWidth||d.body.scrollWidth)-(!m?8:0)-a.flakeRightOffset;n=a.flakeBottom?a.flakeBottom:d.documentElement.clientHeight||d.body.clientHeight||d.body.scrollHeight}q=parseInt(l/2,10)};this.resizeHandlerAlt=function(){l=a.targetElement.offsetLeft+a.targetElement.offsetWidth-a.flakeRightOffset;n=a.flakeBottom?a.flakeBottom:a.targetElement.offsetTop+a.targetElement.offsetHeight;q=parseInt(l/2,10)};this.freeze=function(){if(a.disabled)return false;else a.disabled=1;for(var c=a.timers.length;c--;)clearInterval(a.timers[c])};
this.resume=function(){if(a.disabled)a.disabled=0;else return false;a.timerInit()};this.toggleSnow=function(){if(a.flakes.length){a.active=!a.active;if(a.active){a.show();a.resume()}else{a.stop();a.freeze()}}else a.start()};this.stop=function(){this.freeze();for(var c=this.flakes.length;c--;)this.flakes[c].o.style.display="none";a.events.remove(f,"scroll",a.scrollHandler);a.events.remove(f,"resize",a.resizeHandler);if(a.freezeOnBlur)if(m){a.events.remove(d,"focusout",a.freeze);a.events.remove(d,"focusin",
a.resume)}else{a.events.remove(f,"blur",a.freeze);a.events.remove(f,"focus",a.resume)}};this.show=function(){for(var c=this.flakes.length;c--;)this.flakes[c].o.style.display="block"};this.SnowFlake=function(c,h,i,e){var b=this,g=[];this.type=h;this.x=i||parseInt(k(l-20),10);this.y=!isNaN(e)?e:-k(n)-12;this.vY=this.vX=null;this.angle=0;this.angleOffset=parseInt(Math.random()*360,10);this.angleMultiplier=v(Math.random()*2);this.rotateDirection=v(1+v(Math.random()*1));this.vAmp=1+0.1*this.type;this.melting=
false;this.meltFrameCount=c.meltFrameCount;this.meltFrames=c.meltFrames;this.twinkleFrame=this.meltFrame=0;this.active=1;this.fontSize=9+this.type/c.types*(c.useWebFont?15:20);this.scale=Math.log(this.fontSize-6);this.o=B.cloneNode(true);this.o.innerHTML=c.getSnowCharacter();this.flakeWidth=parseInt(this.fontSize*(c.useWebFont?2:1),10);this.flakeHeight=parseInt(this.fontSize*(c.useWebFont?1:1),10);L.appendChild(this.o);this.refresh=function(){if(isNaN(b.x)||isNaN(b.y))return false;b.o.style.left=
b.x+"px";b.o.style.top=b.y+"px"};this.stick=function(){if(H||c.targetElement!==d.documentElement&&c.targetElement!==d.body)b.o.style.top=n+u-b.flakeHeight+"px";else if(c.flakeBottom)b.o.style.top=c.flakeBottom+"px";else{b.o.style.display="none";b.o.style.top="auto";b.o.style.bottom="0px";b.o.style.position="fixed";b.o.style.display="block"}};this.vCheck=function(){if(b.vX>=0&&b.vX<0.2)b.vX=0.2;else if(b.vX<0&&b.vX>-0.2)b.vX=-0.2;if(b.vY>=0&&b.vY<0.2)b.vY=0.2};this.applyAngle=function(j){if(c.use2DRotate&&
b.y>=-b.flakeHeight&&(o.webkit||this.fontSize>=14)){var p=Math.abs(Math.min(3,b.angleOffset+j*b.angleMultiplier));!c.use3DRotate||!o.webkit?g.push("rotate("+j+"deg)"):g.push("rotate("+j+"deg) rotate3D(0,1,0,"+p+"deg)");b.o.style[o.prop]=g.join(" ");g=[]}};this.move=function(){var j=b.vX*x*b.scale;b.x+=j;b.y+=b.vY*b.vAmp;if(b.x>=l||l-b.x<b.flakeWidth)b.x=0;else if(j<0&&b.x-c.flakeLeftOffset<0-b.flakeWidth)b.x=l-b.flakeWidth-1;if(c.use2DRotate&&o.prop){b.angle+=5*x*b.rotateDirection;if(Math.max(b.angle)>=
360)b.angle=0;b.applyAngle(b.angle)}b.refresh();if(n+u-b.y-(c.useWebFont?3:0)<=b.flakeHeight){b.active=0;c.snowStick?b.stick():b.recycle()}else{if(c.useMeltEffect&&b.active&&b.type<3&&!b.melting&&Math.random()>0.998){b.melting=true;b.melt()}if(c.useTwinkleEffect)if(b.twinkleFrame){b.twinkleFrame--;b.o.style.visibility=b.twinkleFrame&&b.twinkleFrame%2===0?"hidden":"visible"}else if(Math.random()>0.9)b.twinkleFrame=parseInt(Math.random()*20,10)}};this.animate=function(){b.move()};this.setVelocities=
function(){b.vX=I+k(c.vMaxX*0.2,0.1);b.vY=J+k(c.vMaxY*0.2,0.1)};this.setOpacity=function(j,p){if(C)j.style.opacity=p};this.melt=function(){if(!c.useMeltEffect||!b.melting)b.recycle();else if(b.meltFrame<b.meltFrameCount){b.meltFrame++;b.setOpacity(b.o,b.meltFrames[b.meltFrame]);b.o.style.fontSize=b.fontSize-b.fontSize*(b.meltFrame/b.meltFrameCount)+"px"}else b.recycle()};this.recycle=function(){b.o.style.display="none";b.o.style.position=y?"fixed":"absolute";b.o.style.bottom="auto";b.setVelocities();
b.vCheck();b.meltFrame=0;b.melting=false;b.setOpacity(b.o,1);b.o.style.padding="0px";b.o.style.margin="0px";b.o.style.fontSize=b.fontSize+"px";b.o.style.textAlign="center";b.o.style.verticalAlign="baseline";b.x=parseInt(k(l-b.flakeWidth-20),10);b.y=parseInt(k(n)*-1,10)-b.flakeHeight;b.refresh();b.o.style.display="block";b.active=1};this.recycle();this.refresh()};this.snow=function(){var c=0,h=0,i=0,e=null;for(e=a.flakes.length;e--;){if(a.flakes[e].active===1){a.flakes[e].move();c++}else if(a.flakes[e].active===
0)h++;else i++;a.flakes[e].melting&&a.flakes[e].melt()}if(c<a.flakesMaxActive){e=a.flakes[parseInt(k(a.flakes.length),10)];if(e.active===0)e.melting=true}};this.mouseMove=function(c){if(!a.followMouse)return true;c=parseInt(c.clientX,10);if(c<q)x=-1.1+c/q*1.1;else{c-=q;x=c/q*1.1}};this.createTemplate=function(){B=d.createElement("div");var c=B.style;c.color=w.snowColor;c.margin="0px";c.padding="0px";c.position=y?"fixed":"absolute";c.fontFamily="WWFlakesRegular,arial,verdana,sans-serif";c.display=
"block";c.overflow="hidden";c.fontWeight="normal";c.zIndex=w.zIndex};this.createSnow=function(c,h){for(var i=0;i<c;i++){a.flakes[a.flakes.length]=new a.SnowFlake(a,parseInt(k(w.types),10));if(h||i>a.flakesMaxActive)a.flakes[a.flakes.length-1].active=-1}w.targetElement.appendChild(L)};this.timerInit=function(){a.timers=!O?[setInterval(a.snow,a.animationInterval)]:[setInterval(a.snow,a.animationInterval*3),setInterval(a.snow,a.animationInterval)]};this.init=function(){if(a.useWebFont)if(N()){z=d.createElement("style");
A={rule:"@font-face",value:["font-family: 'WWFlakesRegular';","src: url('wwflakes-webfont.eot');","src: local('`'), url('wwflakes-webfont.woff') format('woff'), url('wwflakes-webfont.ttf') format('truetype');","font-weight: normal;","font-style: normal;"]};F=A.rule+" {\n"+A.value.join("\n")+"\n}";G=d.createTextNode(F);if(m){s=d.createElement("link");s.rel="stylesheet";s.type="text/css";s.href="wwflakes-webfont.css";r.appendChild(s)}else{z.appendChild(G);r.appendChild(z)}}else a.useWebFont=false;a.createTemplate();
for(var c=0;c<a.meltFrameCount;c++)a.meltFrames.push(1-c/a.meltFrameCount);a.randomizeWind();a.createSnow(a.flakesMax);a.events.add(f,"resize",a.resizeHandler);a.events.add(f,"scroll",a.scrollHandler);if(a.freezeOnBlur)if(m){a.events.add(d,"focusout",a.freeze);a.events.add(d,"focusin",a.resume)}else{a.events.add(f,"blur",a.freeze);a.events.add(f,"focus",a.resume)}a.resizeHandler();a.scrollHandler();if(a.followMouse)a.events.add(m?d:f,"mousemove",a.mouseMove);a.animationInterval=Math.max(20,a.animationInterval);
a.timerInit()};this.start=function(c){if(K){if(c)return true}else K=true;if(typeof a.targetElement==="string"){c=a.targetElement;a.targetElement=d.getElementById(c);if(!a.targetElement)throw Error('Snowstorm: Unable to get targetElement "'+c+'"');}if(!a.targetElement)a.targetElement=!m?d.documentElement?d.documentElement:d.body:d.body;if(a.targetElement!==d.documentElement&&a.targetElement!==d.body)a.resizeHandler=a.resizeHandlerAlt;r=d.getElementsByTagName("head")[0];a.resizeHandler();a.usePositionFixed=
a.usePositionFixed&&!H;y=a.usePositionFixed;if(l&&n&&!a.disabled){a.init();a.active=true}};a.events.add(f,"load",D,false);return this}(window,document);
